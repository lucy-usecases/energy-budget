{
  "models": [
    {
      "ApiRoutes": [
        {
          "Action": "PostData",
          "BodyFormat": "JSON",
          "IsActive": "0",
          "MapKey": "8",
          "Method": "POST",
          "NoAuth": "0",
          "QueryParams": "[]",
          "Route": "values"
        }
      ],
      "Definition": {
        "actions": [
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "GetAllSpaces",
            "outputs": [],
            "parameters": [],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "GetLatestValues",
            "outputs": [],
            "parameters": [],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "HistoricalIAQReadingsForAllRooms",
            "outputs": [
              "values"
            ],
            "parameters": [
              "bucket",
              "end",
              "sensor",
              "start"
            ],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "PostData",
            "outputs": [],
            "parameters": [
              "values"
            ],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "Trends",
            "outputs": [
              "values"
            ],
            "parameters": [
              "bucket",
              "end",
              "room",
              "sensor",
              "start"
            ],
            "published": false,
            "static": true
          }
        ],
        "attributes": [],
        "flows": {
          "blocks": [
            {
              "CollectionName": "6ac9cf78-b524-4e89-efe4-ed864b39115f",
              "configuration": "[]",
              "connections": {
                "inputs": [
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:output",
                    "target": "50aa3853-f7f6-48fd-86fa-d1f99acded30:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "50aa3853-f7f6-48fd-86fa-d1f99acded30:output:output",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:spaces"
                  }
                ]
              },
              "id": "50aa3853-f7f6-48fd-86fa-d1f99acded30",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 409,
                "top": 146
              },
              "ReceiveIndividualFields": false,
              "surface": "HistoricalIAQReadingsForAllRooms",
              "TakeFilterFromPin": false,
              "timeout": 5000,
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "UpdateAsAttributes": false
            },
            {
              "CollectionName": "6ac9cf78-b524-4e89-efe4-ed864b39115f",
              "configuration": "[]",
              "connections": {
                "inputs": [
                  {
                    "source": "ae166d1a-cbba-4f32-cb06-5a967f687715:output:output",
                    "target": "3dab3459-8677-4694-c857-6913b0e71735:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "3dab3459-8677-4694-c857-6913b0e71735:output:output",
                    "target": "05fde0a6-865b-4faf-8f1e-6d5bb6374cab:input:input"
                  }
                ]
              },
              "id": "3dab3459-8677-4694-c857-6913b0e71735",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 318,
                "top": 296
              },
              "ReceiveIndividualFields": false,
              "surface": "GetLatestValues",
              "TakeFilterFromPin": false,
              "timeout": 5000,
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "UpdateAsAttributes": false
            },
            {
              "CollectionName": "6ac9cf78-b524-4e89-efe4-ed864b39115f",
              "configuration": "[{\"IsEither\":true,\"Conditions\":[{\"Attribute\":\"space\",\"Operator\":\"eq\",\"Value\":\"space\",\"IsPin\":true}],\"Groups\":[]}]",
              "connections": {
                "inputs": [
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:aqi",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:aqi"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:co2",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:co2"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:humidity",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:rh"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:space"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:temperature",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:temp"
                  }
                ],
                "outputs": []
              },
              "id": "4efd8119-3c8c-423b-a251-5ec60778ad21",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "aqi",
                  "label": "aqi",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "co2",
                  "label": "co2",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "rh",
                  "label": "rh",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "space",
                  "label": "space",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "temp",
                  "label": "temp",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "Data to be inserted",
                  "disablelog": "",
                  "documentation": "",
                  "id": "__data__",
                  "label": "Data",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "text",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 925,
                "top": 0
              },
              "ReceiveIndividualFields": false,
              "surface": "PostData",
              "TakeFilterFromPin": false,
              "timeout": 5000,
              "title": "Replace one document",
              "type": "modelcollections:replaceone",
              "UpdateAsAttributes": true
            },
            {
              "CollectionName": "ac5fea41-8469-4714-d57b-c26578ae63d2",
              "configuration": "[]",
              "connections": {
                "inputs": [
                  {
                    "source": "795b1194-d98d-428b-d7af-71d5e37cbad6:output:output",
                    "target": "273ecd32-09a9-402b-a537-fb2cbd688aad:input:trigger"
                  }
                ],
                "outputs": [
                  {
                    "source": "273ecd32-09a9-402b-a537-fb2cbd688aad:output:output",
                    "target": "fae473f3-6c24-48ee-bfe0-be1fbe31cb1c:input:input"
                  }
                ]
              },
              "id": "273ecd32-09a9-402b-a537-fb2cbd688aad",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 463,
                "top": 82
              },
              "ReceiveIndividualFields": false,
              "surface": "GetAllSpaces",
              "TakeFilterFromPin": false,
              "timeout": 5000,
              "title": "Find all documents",
              "type": "modelcollections:findall",
              "UpdateAsAttributes": false
            },
            {
              "actionName": "",
              "connections": {
                "inputs": [
                  {
                    "source": "c47fb1be-ddad-48e1-ed15-b439a4bc9545:output:action",
                    "target": "4dd36351-422a-4401-c16e-c57d9ab59e43:input:__actionlink__"
                  }
                ],
                "outputs": [
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:aqi",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:aqi"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:aqi",
                    "target": "504081d4-72a5-4847-87ff-672816b317de:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:co2",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:co2"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:co2",
                    "target": "a9cbca64-2b29-43f8-fbc1-dd6fd78bab71:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:humidity",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:rh"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:humidity",
                    "target": "99a56cae-6636-42a4-c656-a4584a9faca0:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "1bdb651e-370e-4548-de2b-326d09706b76:input:trend"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:space"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "504081d4-72a5-4847-87ff-672816b317de:input:trend"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "99a56cae-6636-42a4-c656-a4584a9faca0:input:trend"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "a9cbca64-2b29-43f8-fbc1-dd6fd78bab71:input:trend"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:temperature",
                    "target": "1bdb651e-370e-4548-de2b-326d09706b76:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:temperature",
                    "target": "4efd8119-3c8c-423b-a251-5ec60778ad21:input:temp"
                  }
                ]
              },
              "debug": false,
              "id": "4dd36351-422a-4401-c16e-c57d9ab59e43",
              "initiate": false,
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "__actionlink__",
                  "label": "",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "actionlink",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "aqi",
                  "label": "aqi",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "co2",
                  "label": "co2",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "humidity",
                  "label": "humidity",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "location",
                  "label": "location",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "temperature",
                  "label": "temperature",
                  "type": ""
                }
              ],
              "position": {
                "left": 657,
                "top": 464
              },
              "published": false,
              "roles": [],
              "static": true,
              "surface": "PostData",
              "title": "Action",
              "type": "linkedactionstart"
            },
            {
              "actionName": "GetAllSpaces",
              "canOverrideCredentials": false,
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "795b1194-d98d-428b-d7af-71d5e37cbad6:output:output",
                    "target": "273ecd32-09a9-402b-a537-fb2cbd688aad:input:trigger"
                  }
                ]
              },
              "debug": false,
              "docs": "",
              "id": "795b1194-d98d-428b-d7af-71d5e37cbad6",
              "initiate": false,
              "inputValues": [],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 102,
                "top": 126
              },
              "published": false,
              "roles": [],
              "static": true,
              "surface": "GetAllSpaces",
              "title": "Action",
              "type": "actionstart"
            },
            {
              "actionName": "GetLatestValues",
              "canOverrideCredentials": false,
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "ae166d1a-cbba-4f32-cb06-5a967f687715:output:output",
                    "target": "3dab3459-8677-4694-c857-6913b0e71735:input:trigger"
                  }
                ]
              },
              "debug": false,
              "docs": "",
              "id": "ae166d1a-cbba-4f32-cb06-5a967f687715",
              "initiate": false,
              "inputValues": [],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 106,
                "top": 98
              },
              "published": false,
              "roles": [],
              "static": true,
              "surface": "GetLatestValues",
              "title": "Action",
              "type": "actionstart"
            },
            {
              "actionName": "HistoricalIAQReadingsForAllRooms",
              "canOverrideCredentials": false,
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:bucket",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:bucket"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:end",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:end"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:output",
                    "target": "50aa3853-f7f6-48fd-86fa-d1f99acded30:input:trigger"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:sensor",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:sensor"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:start",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:start"
                  }
                ]
              },
              "debug": true,
              "docs": "",
              "id": "07762b73-a02a-4ca5-f5da-10e657054132",
              "initiate": false,
              "inputValues": [],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "bucket",
                  "label": "bucket",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "end",
                  "label": "end",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "sensor",
                  "label": "sensor",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "start",
                  "label": "start",
                  "type": ""
                }
              ],
              "position": {
                "left": 161.00000190734863,
                "top": 261.00000381469727
              },
              "published": false,
              "roles": [],
              "static": true,
              "surface": "HistoricalIAQReadingsForAllRooms",
              "title": "Action",
              "type": "actionstart"
            },
            {
              "actionName": "PostData",
              "canOverrideCredentials": false,
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "89e87ed2-e9c5-4015-b3e0-a51ff8e402e7:output:values",
                    "target": "c47fb1be-ddad-48e1-ed15-b439a4bc9545:input:list"
                  }
                ]
              },
              "debug": false,
              "docs": "Record current air quality data.\nProvide an array of items - one for each location.",
              "id": "89e87ed2-e9c5-4015-b3e0-a51ff8e402e7",
              "initiate": false,
              "inputValues": [],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "An array of values with their corresponding locations.\n\n* CO2 values are in ppm (parts per million)\n* Temperature values are in degrees, celcius\n* Humidity values are a percentage \n* AQI values are as a percentage",
                  "example": "[\n  {\"location\":\"Room 1\",\"co2\":450,\"aqi\":85,\"temperature\":22.3,\"humidity\":65.5}\n]",
                  "id": "values",
                  "label": "values",
                  "type": ""
                }
              ],
              "position": {
                "left": 60,
                "top": 60
              },
              "published": false,
              "roles": [],
              "static": true,
              "surface": "PostData",
              "title": "Action",
              "type": "actionstart"
            },
            {
              "actionName": "Trends",
              "canOverrideCredentials": false,
              "connections": {
                "inputs": [],
                "outputs": [
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:bucket",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:bucket"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:end",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:to"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:room",
                    "target": "cb105538-a21e-45fe-9308-1a0336210c3e:input:name"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:sensor",
                    "target": "cb105538-a21e-45fe-9308-1a0336210c3e:input:sensor"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:start",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:from"
                  }
                ]
              },
              "debug": true,
              "docs": "",
              "id": "275ce7f0-234e-427b-8e8d-9ec70334b050",
              "initiate": false,
              "inputValues": [],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "bucket",
                  "label": "bucket",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "end",
                  "label": "end",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "room",
                  "label": "room",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "sensor",
                  "label": "sensor",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "start",
                  "label": "start",
                  "type": ""
                }
              ],
              "position": {
                "left": 97,
                "top": 177
              },
              "published": false,
              "roles": [],
              "static": true,
              "surface": "Trends",
              "title": "Action",
              "type": "actionstart"
            },
            {
              "code": "let {sensor, spaces, start, end, bucket} = runtime.inputs()\r\nlet trends = lucy.trends();\r\n\r\n// let trendNames = spaces.map(s => (`/iaq/${sensor}/${s.location}`))\r\n\r\nfunction average(items) {\r\n    if (items.length==0) return 0;\r\n    let sum = 0;\r\n    for(var i in items) {\r\n        sum += items[i];\r\n    }\r\n    return Math.ceil(sum/items.length);\r\n}\r\n\r\nasync function main(){\r\nlet areaValues = {};\r\n    for(var s in spaces) {\r\n        let area = spaces[s];\r\n        \r\n        let id = area.space;\r\n        let trend = `/iaq/${sensor}/${id}`;\r\n        // lucy.log(trend)\r\n        let values= await trends.queryPoints(trend,start,end,{},bucket,'max',{});\r\n        // lucy.log(values);\r\n        for(var vi in values) {\r\n            let value = values[vi];\r\n            if (!areaValues[id]) areaValues[id] = [];\r\n            let oval = Number(value.Value);\r\n            if (oval) {\r\n                areaValues[id].push(Number(value.Value));\r\n            }\r\n        }\r\n    }\r\n    let finalAreas = [];\r\n    let ids = Object.keys(areaValues);\r\n\r\n    for(var i in ids) {\r\n        finalAreas.push({space:ids[i],[sensor]:average(areaValues[ids[i]])});\r\n    }\r\n    return finalAreas;\r\n}\r\n\r\nmain().then(data => runtime.done({trends: data})).catch(e => runtime.error(e));",
              "connections": {
                "inputs": [
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:bucket",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:bucket"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:end",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:end"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:sensor",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:sensor"
                  },
                  {
                    "source": "07762b73-a02a-4ca5-f5da-10e657054132:output:start",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:start"
                  },
                  {
                    "source": "50aa3853-f7f6-48fd-86fa-d1f99acded30:output:output",
                    "target": "d0cf2851-00e3-408f-d066-40daaadb63f0:input:spaces"
                  }
                ],
                "outputs": [
                  {
                    "source": "d0cf2851-00e3-408f-d066-40daaadb63f0:output:trends",
                    "target": "1e739470-2b60-431c-9d17-aa51cc4ed6e9:input:input"
                  }
                ]
              },
              "description": "",
              "id": "d0cf2851-00e3-408f-d066-40daaadb63f0",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "bucket",
                  "label": "bucket",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "end",
                  "label": "end",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "sensor",
                  "label": "sensor",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "spaces",
                  "label": "spaces",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "start",
                  "label": "start",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "trends",
                  "label": "trends",
                  "type": ""
                }
              ],
              "position": {
                "left": 678.0000247955322,
                "top": 242.00000381469727
              },
              "surface": "HistoricalIAQReadingsForAllRooms",
              "timeoutMilliseconds": 5000,
              "title": "ES6Javascript",
              "type": "es6javascript"
            },
            {
              "code": "runtime.done({data:runtime.inputs().data});",
              "connections": {
                "inputs": [
                  {
                    "source": "8281c446-c8a0-48ae-f833-d9eb9b21c977:output:output",
                    "target": "242114e8-43c8-4971-999d-ed9d6d593719:input:data"
                  }
                ],
                "outputs": [
                  {
                    "source": "242114e8-43c8-4971-999d-ed9d6d593719:output:data",
                    "target": "849f28f0-480b-4d53-c7a5-961b4deb2850:input:input"
                  }
                ]
              },
              "description": "",
              "id": "242114e8-43c8-4971-999d-ed9d6d593719",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "data",
                  "label": "data",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "data",
                  "label": "data",
                  "type": ""
                }
              ],
              "position": {
                "left": 715,
                "top": 143
              },
              "surface": "Trends",
              "timeoutMilliseconds": 5000,
              "title": "ES6Javascript",
              "type": "es6javascript"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "242114e8-43c8-4971-999d-ed9d6d593719:output:data",
                    "target": "849f28f0-480b-4d53-c7a5-961b4deb2850:input:input"
                  }
                ],
                "outputs": []
              },
              "fieldName": "values",
              "id": "849f28f0-480b-4d53-c7a5-961b4deb2850",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "input",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [],
              "position": {
                "left": 956,
                "top": 133
              },
              "surface": "Trends",
              "title": "Output",
              "type": "actionoutput"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "273ecd32-09a9-402b-a537-fb2cbd688aad:output:output",
                    "target": "fae473f3-6c24-48ee-bfe0-be1fbe31cb1c:input:input"
                  }
                ],
                "outputs": []
              },
              "fieldName": "spaces",
              "id": "fae473f3-6c24-48ee-bfe0-be1fbe31cb1c",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "input",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [],
              "position": {
                "left": 845,
                "top": 157
              },
              "surface": "GetAllSpaces",
              "title": "Output",
              "type": "actionoutput2"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:bucket",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:bucket"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:end",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:to"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:start",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:from"
                  },
                  {
                    "source": "cb105538-a21e-45fe-9308-1a0336210c3e:output:output",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:trend"
                  }
                ],
                "outputs": [
                  {
                    "source": "8281c446-c8a0-48ae-f833-d9eb9b21c977:output:output",
                    "target": "242114e8-43c8-4971-999d-ed9d6d593719:input:data"
                  }
                ]
              },
              "id": "8281c446-c8a0-48ae-f833-d9eb9b21c977",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "aggregation",
                  "label": "Aggregation Type",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": "max"
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "bucket",
                  "label": "Bucket Type",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "descending",
                  "label": "Descending",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "from",
                  "label": "From",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "limit",
                  "label": "Limit",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": "4000"
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "offset",
                  "label": "Offset",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "tags",
                  "label": "Tag List",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "to",
                  "label": "To",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trend",
                  "label": "Trend Name",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 519,
                "top": 266
              },
              "surface": "Trends",
              "timeout": 5000,
              "title": "Query Points",
              "type": "timeseriesquerypoints"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:room",
                    "target": "cb105538-a21e-45fe-9308-1a0336210c3e:input:name"
                  },
                  {
                    "source": "275ce7f0-234e-427b-8e8d-9ec70334b050:output:sensor",
                    "target": "cb105538-a21e-45fe-9308-1a0336210c3e:input:sensor"
                  }
                ],
                "outputs": [
                  {
                    "source": "cb105538-a21e-45fe-9308-1a0336210c3e:output:output",
                    "target": "8281c446-c8a0-48ae-f833-d9eb9b21c977:input:trend"
                  }
                ]
              },
              "id": "cb105538-a21e-45fe-9308-1a0336210c3e",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "name",
                  "label": "name",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "sensor",
                  "label": "sensor",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "Output Text",
                  "type": ""
                }
              ],
              "position": {
                "left": 330,
                "top": 77
              },
              "surface": "Trends",
              "template": "/iaq/#{sensor}/#{name}",
              "title": "Template",
              "type": "template"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "3dab3459-8677-4694-c857-6913b0e71735:output:output",
                    "target": "05fde0a6-865b-4faf-8f1e-6d5bb6374cab:input:input"
                  }
                ],
                "outputs": []
              },
              "fieldName": "values",
              "id": "05fde0a6-865b-4faf-8f1e-6d5bb6374cab",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "input",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [],
              "position": {
                "left": 475,
                "top": 115
              },
              "surface": "GetLatestValues",
              "title": "Output",
              "type": "actionoutput2"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:aqi",
                    "target": "504081d4-72a5-4847-87ff-672816b317de:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "504081d4-72a5-4847-87ff-672816b317de:input:trend"
                  }
                ],
                "outputs": []
              },
              "id": "504081d4-72a5-4847-87ff-672816b317de",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "tags",
                  "label": "Tag List",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "timestamp",
                  "label": "Timestamp",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "value",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "/iaq/aqi/#{value}",
                  "id": "trend",
                  "label": "Trend Name",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 1200,
                "top": 833
              },
              "surface": "PostData",
              "title": "Add Point",
              "type": "timeseriesaddpoint"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:co2",
                    "target": "a9cbca64-2b29-43f8-fbc1-dd6fd78bab71:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "a9cbca64-2b29-43f8-fbc1-dd6fd78bab71:input:trend"
                  }
                ],
                "outputs": []
              },
              "id": "a9cbca64-2b29-43f8-fbc1-dd6fd78bab71",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "tags",
                  "label": "Tag List",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "timestamp",
                  "label": "Timestamp",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trend",
                  "label": "Trend Name",
                  "transformation": "template",
                  "transformationOptions": "/iaq/co2/#{value}",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "value",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 1190,
                "top": 139
              },
              "surface": "PostData",
              "title": "Add Point",
              "type": "timeseriesaddpoint"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:humidity",
                    "target": "99a56cae-6636-42a4-c656-a4584a9faca0:input:value"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "99a56cae-6636-42a4-c656-a4584a9faca0:input:trend"
                  }
                ],
                "outputs": []
              },
              "id": "99a56cae-6636-42a4-c656-a4584a9faca0",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "tags",
                  "label": "Tag List",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "timestamp",
                  "label": "Timestamp",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "value",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "/iaq/rh/#{value}",
                  "id": "trend",
                  "label": "Trend Name",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 1185,
                "top": 364
              },
              "surface": "PostData",
              "title": "Add Point",
              "type": "timeseriesaddpoint"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:location",
                    "target": "1bdb651e-370e-4548-de2b-326d09706b76:input:trend"
                  },
                  {
                    "source": "4dd36351-422a-4401-c16e-c57d9ab59e43:output:temperature",
                    "target": "1bdb651e-370e-4548-de2b-326d09706b76:input:value"
                  }
                ],
                "outputs": []
              },
              "id": "1bdb651e-370e-4548-de2b-326d09706b76",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "tags",
                  "label": "Tag List",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "timestamp",
                  "label": "Timestamp",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "value",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "/iaq/temp/#{value}",
                  "id": "trend",
                  "label": "Trend Name",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "__error__",
                  "label": "Error",
                  "type": "error"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "All Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 1192,
                "top": 606
              },
              "surface": "PostData",
              "title": "Add Point",
              "type": "timeseriesaddpoint"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "89e87ed2-e9c5-4015-b3e0-a51ff8e402e7:output:values",
                    "target": "c47fb1be-ddad-48e1-ed15-b439a4bc9545:input:list"
                  }
                ],
                "outputs": [
                  {
                    "source": "c47fb1be-ddad-48e1-ed15-b439a4bc9545:output:action",
                    "target": "4dd36351-422a-4401-c16e-c57d9ab59e43:input:__actionlink__"
                  }
                ]
              },
              "id": "c47fb1be-ddad-48e1-ed15-b439a4bc9545",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "extra",
                  "label": "Extra",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "list",
                  "label": "Items",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "list",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "action",
                  "label": "Action",
                  "type": "actionlink"
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "done",
                  "label": "Done",
                  "type": ""
                },
                {
                  "dataType": "",
                  "description": "",
                  "documentation": "",
                  "example": "",
                  "id": "output",
                  "label": "Output",
                  "type": ""
                }
              ],
              "position": {
                "left": 395,
                "top": 141
              },
              "sequential": true,
              "surface": "PostData",
              "title": "Repeat Action",
              "type": "repeataction"
            },
            {
              "connections": {
                "inputs": [
                  {
                    "source": "d0cf2851-00e3-408f-d066-40daaadb63f0:output:trends",
                    "target": "1e739470-2b60-431c-9d17-aa51cc4ed6e9:input:input"
                  }
                ],
                "outputs": []
              },
              "fieldName": "values",
              "id": "1e739470-2b60-431c-9d17-aa51cc4ed6e9",
              "inputValues": [
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "input",
                  "label": "Value",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                },
                {
                  "description": "",
                  "disablelog": "",
                  "documentation": "",
                  "id": "trigger",
                  "label": "Trigger",
                  "transformation": "",
                  "transformationOptions": "",
                  "type": "",
                  "value": ""
                }
              ],
              "outputValues": [],
              "position": {
                "left": 928.0000247955322,
                "top": 239.00000381469727
              },
              "surface": "HistoricalIAQReadingsForAllRooms",
              "title": "Output",
              "type": "actionoutput"
            }
          ],
          "position": {
            "left": 0,
            "top": 0
          }
        },
        "sources": [
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "GetAllSpaces",
            "outputs": [],
            "parameters": [],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "GetLatestValues",
            "outputs": [],
            "parameters": [],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "HistoricalIAQReadingsForAllRooms",
            "outputs": [
              "values"
            ],
            "parameters": [
              "bucket",
              "end",
              "sensor",
              "start"
            ],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "PostData",
            "outputs": [],
            "parameters": [
              "values"
            ],
            "published": false,
            "static": true
          },
          {
            "canOverrideCredentials": false,
            "initiate": false,
            "name": "Trends",
            "outputs": [
              "values"
            ],
            "parameters": [
              "bucket",
              "end",
              "room",
              "sensor",
              "start"
            ],
            "published": false,
            "static": true
          }
        ],
        "uioptions": {},
        "version": "v2"
      },
      "Icon": "",
      "JSModules": [],
      "Key": "8",
      "MetadataDictionary": "{\"tags\":[],\"capabilities\":[\"iaq-provider\"],\"onSave\":\"\"}",
      "ModelCollections": [
        {
          "Attributes": "[{\"name\":\"id\"},{\"name\":\"name\"}]",
          "GUID": "ac5fea41-8469-4714-d57b-c26578ae63d2",
          "MapKey": "8",
          "Name": "spaces"
        },
        {
          "Attributes": "[{\"name\":\"space\"},{\"name\":\"co2\"},{\"name\":\"temp\"},{\"name\":\"rh\"},{\"name\":\"aqi\"}]",
          "GUID": "6ac9cf78-b524-4e89-efe4-ed864b39115f",
          "MapKey": "8",
          "Name": "values"
        }
      ],
      "Name": "IAQAPIProvider",
      "Roles": [],
      "UIDefinition": null
    }
  ],
  "version": "2.0"
}